<ui:composition template="template/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:f="http://xmlns.jcp.org/jsf/core" 
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:b="http://bootsfaces.net/ui">

    <ui:define name="content">
        <h1>Users Page</h1>

        <b:tabView>
            <b:tab title="View Users" update="userTable">
                <h3>View Users</h3>
                <b:dataTable id="userTable" value="#{manageUsersController.getAllUsers()}" var="user">
                    <b:dataTableColumn label="Email" value="#{user.email}" />
                    <b:dataTableColumn label="First Name" value="#{user.firstName}" />
                    <b:dataTableColumn label="Last Name" value="#{user.lastName}" />
                    <b:dataTableColumn label="Role" value="#{user.role}" />
                </b:dataTable>

            </b:tab>

            <b:tab title="Add New User">
                <b:form id="createNewUserForm">
                    <h3>Create New User</h3>
                    <b:panelGrid colSpans="2, 10" rowClasses="panelGridRows" >
                        <h:outputText value="Email:"/>
                        <h:inputText value="#{newUserController.newUser.email}" />
                        <h:outputText value="First Name:"/>
                        <h:inputText value="#{newUserController.newUser.firstName}" />
                        <h:outputText value="Last Name:" />
                        <h:inputText value="#{newUserController.newUser.lastName}" />
                        <h:outputText value="password" />
                        <h:inputSecret value="#{newUserController.tempPassword}" />
                        <h:outputText value="Administrator? leave blank if not" />
                        <h:selectBooleanCheckbox value="#{newUserController.admin}" />
                        <b:commandButton value="Create User" action="#{newUserController.createNewUser()}" ajax="true" update="createNewUserForm userTable"/>
                    </b:panelGrid>

                </b:form>

            </b:tab>

        </b:tabView>

    </ui:define>
</ui:composition>

